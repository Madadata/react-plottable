<!DOCTYPE html>
<html>
<head>
  <title>Example Pie</title>
  <link rel="stylesheet" href="../bower_components/plottable/plottable.css" />
</head>
<body>
<svg id="plottable" width="400" height="400"></svg>
<script type="text/javascript" src="../bower_components/lodash/lodash.js"></script>
<script type="text/javascript" src="../bower_components/jQuery/dist/jquery.js"></script>
<script type="text/javascript" src="../bower_components/d3/d3.min.js" charset="UTF-8"></script>
<script type="text/javascript" src="../bower_components/plottable/plottable.js" charset="UTF-8"></script>
<script type="text/javascript" src="../dist/react-plottable.umd.js"></script>
<script type="text/javascript">
  var svg = d3.select('svg#plottable');
  var tableConfig = {
    content: [
      {
        data: [
          { x: '1', y: 1 },
          { x: '2', y: 2 },
          { x: '3', y: 3 },
          { x: '4', y: 4 },
          { x: '5', y: 5 },
          { x: '6', y: 6 },
          { x: '7', y: 7 },
          { x: '8', y: 8 },
          { x: '9', y: 9 }
        ],
        type: 'pie',
        config: {
          title: 'Pie Plot',
          clickable: true
        }
      }
    ],
    config: {
      types: ['string', 'number'],
    }
  };
  const activeElements = [];
  function onClick(element) {
    if (_.indexOf(activeElements, element) >= 0) {
      _.remove(activeElements, function(activeElement) {
        return activeElement === element;
      })
    } else {
      activeElements.push(element);
    }
    console.log(activeElements);
  }

  function onDrag(elements) {
    console.log(elements);
  }

  function onInteraction(selected, type) {
    switch (type) {
      case 'click':
        onClick(selected);
        break;
      case 'drag':
        onDrag(selected);
        break;
      default:
        throw new Error('not supported');
    }
  }
  reactplottable.render.renderChart(tableConfig, svg, onInteraction);
</script>
</body>
</html>
